Wrap every field of channel discord objects in a new internal struct
object_field_t that is composed of
* The actial variable with the correspoding type
* A flag to mark if it's optional
* A flag to mark if it's defined
* A type enum that has every possible value type like

typedef enum object_field_type_t {
    OBJECT_FIELD_TYPE_NUMBER,
    OBJECT_FIELD_TYPE_STRING,
    OBJECT_FIELD_TYPE_ARRAY,
    OBJECT_FIELD_TYPE_BOOL
}

This way we can then create a separate method for JSON serialization named
serialize_object_field(object_field_t *field)
and use just this function for serializing fields of a struct.
Then the object serialization code becomes much simpler since all we have to do
is call serialize_object_field for every object in a struct ex

void serialize_user_object(cord_user_t *author) {
    serialize_object_field(author->id);
    serialize_object_field(author->name);
    ...
}

and it can be automated with a python script